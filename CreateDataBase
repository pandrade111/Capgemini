CREATE DATABASE Capgemini;

Use Capgemini
GO

CREATE TABLE [Person]
(
	[Id] UNIQUEIDENTIFIER PRIMARY KEY NOT NULL,
	[UserId] UNIQUEIDENTIFIER NOT NULL,
	[FirstName] VARCHAR(40) NOT NULL,
	[LastName] VARCHAR(40) NOT NULL,
	[CPF] CHAR(11) NOT NULL,
	[Email] VARCHAR(160) NOT NULL,
	[Phone] VARCHAR(13) NOT NULL,
	FOREIGN KEY([UserId]) REFERENCES [User]([Id])
)

CREATE TABLE [Address]
(
	[Id] UNIQUEIDENTIFIER PRIMARY KEY NOT NULL,
	[PersonId] UNIQUEIDENTIFIER NOT NULL,
	[Number] VARCHAR(10) NOT NULL,
	[Complement] VARCHAR(40) NULL,
	[District] VARCHAR(60) NOT NULL,
	[City] VARCHAR(60) NOT NULL,
	[State] CHAR(2) NOT NULL,
	[Country] CHAR(2) NOT NULL,
	[ZipCode] CHAR(8) NOT NULL
	FOREIGN KEY ([PersonId]) REFERENCES [Person]([Id])
)

CREATE TABLE [User]
(
	[Id] UNIQUEIDENTIFIER PRIMARY KEY NOT NULL,
	[Username] VARCHAR(20) NOT NULL,
	[Password] VARCHAR(32) NOT NULL,
	[Active] BIT NOT NULL DEFAULT(1)
)
